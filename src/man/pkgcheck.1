.\" Manpage for pkgcheck
.\" Contact (kvngncrlsn@gmail.com) to correct errors or typos.
.TH man 1 "10 September 2021" "0.2.0" "pkgcheck man page"
.SH NAME
.B pkgcheck
\(em generate and display information about a yalpack package
.SH SYNOPSIS
.B pkgcheck NAME
.SH DESCRIPTION
.B pkgcheck
is a shell program provided by
.B yalpack
(Yet Another Lfs PACKage manager) for generating, displaying and storing information about a
.B yalpack
package.
.B pkgcheck
is run during
.B pkginst(1)
and
.B pkgup(1)
to generate information about the new package, saved to the following locations:

.I \t /var/yalpack/pkgdata/PKG-DEPS/[NAME]/libdeps
.br
.I \t
(any dynamic libraries used by installed binaries)

.I \t /var/yalpack/pkgdata/PKG-BINS/[NAME]/instbins
.br 
.I \t
(any installed programs)

.I \t /var/yalpack/pkgdata/PKG-LIBS/[NAME]/libs
.br
.I \t
(any installed executable libraries)

.B pkgcheck
invokes
.B liblist(1)
to generate dynamic library usage information, which entails calling
.B ldd(1)\fR\
\&. For this reason,
.B pkgcheck
(and
.B yalpack
in general) should not be used on systems with
.B glibc-2.26
and earlier. See \(lqSecurity\(rq in the
.B ldd(1)
man page for details. Library usage information will not be available for packages that are not installed. 

If libraries appear to have been installed by the package, a new collection of dynamic library usage information will be generated (provided that
.B pkgcheck
was called by
.B pkginst(1)
or
.B pkgup(1)\fR\
). Otherwise, the existing collection will be updated with any new dynamic binaries. By default, a new collection will be triggered when executable files with recognized library suffixes are installed.

.B pkgcheck
will not generate duplicate entries on systems where one or more of these locations is a symlink.

In the case of executable .new files,
.B pkgcheck
will generate information for the .new version if it is installed as such; otherwise, it will use the non-.new file.

The
.B pkgcheck
script can be edited to change any of these default search locations to suit user preferences. This is best done before installation, and in conjunction with the other
.B yalpack
scripts.
.SH OPTIONS
.TQ
.B NAME
.br
The name of the package to be checked. Note that if the package name in the original
.I NAME
directory included versioning information, the call will be incomplete without it. Use 
.B pkglist -n
to check full package names.

.TQ
.B -h|--help
.br
Display the help menu.
.SH SEE ALSO
.B pkginst(1)\fR\
,
.B pkgup(1)\fR\
,
.B liblist(1)\fR\
,
.B ldd(1)
.SH BUGS
No known bugs.
.SH AUTHOR
K. Eugene Carlson
.MT kvngncrlsn@gmail.com
.ME
