yalpack-0.1.3 Customization Guide

By default, the compilation DESTDIR directory for yalpack is under
/tmp, and the data, library information and package tarball directories
can be found under /var/yalpack.

Although probably suitable for most needs, these locations can be
customized by editing the yalpack-provided scripts. In order to avoid
mismatching directories across scripts, this document is intended as a
guide to which variables should be changed in case customization is
desired.

As a general note, such edits should be made before installing or
upgrading yalpack. For post-installation changes to the location of
/var/yalpack, move the yalpack directory before using the edited
scripts.

***********************************************************************
                             Changing DESTDIR                         
***********************************************************************

In order to make packages using DESTDIR other than /tmp, the following
script variables should be changed:

  * src/sbin/pkgmake: 	TMP=/tmp

  * src/sbin/pkginst: 	TMP=/tmp

And, in the source directory:

  * Makefile: 	TMP ?= /tmp

For Makefile, TMP can also be set when calling make.

***********************************************************************
                     Changing the yalpack directory
***********************************************************************

Storing the core yalpack data in a non-root owned location is not
recommended. Additionally, everything under /var/yalpack should stay
under the same directory structure.

In order to store yalpack-related data and package tarballs under a
directory other than /var/yalpack, change the following variable in all
scripts in src/bin and src/sbin:

  HEAD=/var/yalpack

libcheck and libprecise are special cases, in that they rely on "cut"
instructions to display results. If, against recommendations, the
internal structure of the yalpack directory is changed, the following
lines might have to be edited:

  * libcheck: lines 81 and 82
  * libprecise: lines 71 and 72

Specifically, the "2" in $((*NUM + 2)) refers to the number of
trailing backslashes following $PKGDEPS and $BINDEPS. Provided that the
internal structure of $BINDEPS and $PKGDEPS has not been changed, no
further editing will be necessary.
