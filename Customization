yalpack-0.1.2 Customization Guide

By default, the compilation DESTDIR directory for yalpack is under
/tmp, and the data, library information and package tarball directories
can be found under /var/yalpack.

Although probably suitable for most needs, these locations can be
customized by editing the yalpack-provided scripts. In order to avoid
mismatching directories across scripts, this document is intended as a
guide to which variables should be changed in case customization is
desired.

As a general note, such edits should be made before installing or
upgrading yalpack. For post-installation changes to the location of
/var/yalpack, move the yalpack directory before using the edited
scripts.

***********************************************************************
                             Changing DESTDIR                         
***********************************************************************

In order to make packages using DESTDIR other than /tmp, the following
script variables should be changed:

  * pkgmake: 	TMP=/tmp

  * pkginst: 	TMP=/tmp

And, in the source directory:

  * Makefile: 	PKGDIR = /tmp/yalpack-$(VER)

***********************************************************************
                     Changing the yalpack directory
***********************************************************************

Storing the yalpack data in a non-root owned location is not
recommended. Ideally, everything under /var/yalpack should stay under
the same directory structure.

In order to store yalpack-related data and package tarballs under a
directory other than /var/yalpack, change the following:

  * pkgmake: 	STAGING=/var/yalpack/packages

  * pkginst:	STAGING=/var/yalpack/packages
            	PKGDATA=/var/yalpack/pkgdata

  * pkgremove: 	STAGING=/var/yalpack/packages
		DATA=/var/yalpack/pkgdata

  * pkgup:	STAGING=/var/yalpack/packages
		PKGTREES=/var/yalpack/pkgdata/TREES

  * liblist:	BINDEPS=/var/yalpack/BIN-DEPS

  * pkgcheck:	STAGING=/var/yalpack/packages
		PKGDATA=/var/yalpack/pkgdata
		BINDEPS=/var/yalpack/BIN-DEPS

  * libcheck:	DATA=/var/yalpack/pkgdata
		BINDEPS=/var/yalpack/BIN-DEPS

  * libprecise:	DATA=/var/yalpack/pkgdata
		BINDEPS=/var/yalpack/BIN-DEPS

  * pkglist:	DATA=/var/yalpack/pkgdata

libcheck and libprecise are special cases, in that they currently rely
on "cut" instructions to display results properly. If the path to
/var/yalpack/BIN-DEPS or /var/yalpack/pkgdata changes, these
instructions should be edited accordingly:

  * libcheck: lines 78 and 81
  * libprecise: lines 68 and 72

In both cases, adjust "cut -d'/' -f*-" if the path to the custom
location has a different number of backslashes than the default
location.

Reworking these variables to be more user-friendly is a planned
improvement.
